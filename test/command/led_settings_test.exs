defmodule CommandLedSettingsTest do
  use ExUnit.Case

  alias Jeff.Command.LedSettings

  test "encode" do
    assert LedSettings.encode([]) ==
             <<0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
               0x00>>

    params = [
      reader: 0x01,
      led: 0x02,
      temp_mode: 0x02,
      temp_on_time: 0x04,
      temp_off_time: 0x08,
      temp_on_color: 0x04,
      temp_off_color: 0x01,
      temp_timer: 0x15,
      perm_mode: 0x01,
      perm_on_time: 0x05,
      perm_off_time: 0x10,
      perm_on_color: 0x03,
      perm_off_color: 0x01
    ]

    assert LedSettings.encode(params) ==
             <<0x01, 0x02, 0x02, 0x04, 0x08, 0x04, 0x01, 0x15, 0x00, 0x01, 0x05, 0x10, 0x03,
               0x01>>
  end
end
